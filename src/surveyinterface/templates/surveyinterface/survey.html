{% extends "surveyinterface/base.html" %}
{% load staticfiles %}

{% block body %}
{#    <div id="tutorialContainer">#}
{#        <p class="btn btn-primary btn-lg" id="btnNextTip" href="#" role="button">Next</p>#}
{#    </div>#}

    <div id="loadingScreen">
        <h3>Loading...</h3>
    </div>

    <!-- Button trigger modal -->
    <button id="btnHelp" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#significanceFlagModal"></button>
    <button id="btnGuide" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#guideModal"></button>

    <!-- Significance flag modal -->
    <div class="modal fade" id="significanceFlagModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">About significance flag</h4>
                </div>
                <div class="modal-body">
                    <p>This flag indicates whether the differences in the results in this matrix are statistically
                        significant according to a chi-square test. The distribution of observed frequencies is compared
                        to expected frequencies from a distribution where there is no relationship between the two axes.
                        If the total difference is greater than the chi-square statistic for the 95% confidence level,
                        than the results are considered statistically significant.</p>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

        <!-- Modal -->
    <div class="modal fade" id="guideModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div id="arrowWindow" class="arrow_box arrow_right">
            <center><b><span id="tip-title"></span></b></center>
            <center><span id="tip"></span></center>
        </div>
        <div class="no-click-layer"></div>
        <div>
            <button data-count="1" id="btnNextTip" type="button" class="btn-tip btn btn-info btn-lg">Next</button>
            <button data-count="0" id="btnPreviousTip" type="button" class="btn-tip btn btn-info btn-lg" disabled>
                Back
            </button>
            <button id="btnSkipTips" type="button" class="btn btn-default btn-lg">
                Skip
            </button>
            <label id="chkHideTip"><input type="checkbox" aria-label="Do not show again.">Do not show again</label>
        </div>
    </div>

    <div id="mainContent">
    <div class="panel-left">
        <div id="surveyInfo">
            <img src="{% static 'images/survey-icon.png' %}" alt="...">
            <div class="caption">
                <h4>{{ object.name }}</h4>

                <p>{{ object.dateconducted }}</p>
            </div>
        </div>
        <div id="listQuestions" class="panel-group">
        </div>
    </div>

        <div id="visualizationContent">
            <div id="top-bar">
                <div id="captionContainer" class="panel panel-primary">
                  <div class="panel-heading">
                    <span id="txtTitle" class="panel-title">Welcome!</span>
                  </div>
                  <div id="txtDescription" class="panel-body">
                    Select a question to get started
                  </div>
                </div>
                <div id="viewContainer" class="panel panel-primary">
                  <div class="panel-heading">
                    <h3 class="panel-title">View</h3>
                  </div>
                  <div class="panel">
                    <div class="btn-group">
                        <button id="map-view" title="Heat Map View" type="button" class="btn btn-default" aria-label="Center Align"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></button>
                        <button id="mean-view" title="Mean Result View" type="button" class="btn btn-default" aria-label="Center Align"><span class="glyphicon glyphicon-stats" aria-hidden="true"></span></button>
                        <button id="percentage-view" title="Percentage View" type="button" class="btn btn-default" aria-label="Center Align"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span></button>
                    </div>
                  </div>
                </div>
            </div>
            <div class="dropdown">
              <button title="Demogaphic variables" id="btnCategories" class="btn dropdown-toggle" type="button" data-toggle="dropdown">
                  <span class="glyphicon glyphicon-list" aria-hidden="true"> â–¼</span>
              </button>
              <ul id="lstYAxisMode" class="dropdown-menu">
                <li ><a data-axis="All" href="#">All</a></li>
                <li role="presentation" class="divider"></li>
                <!--<li><a data-axis="Site" href="#">Survey Site</a></li>-->
              </ul>
            </div>
            <div id="map-canvas"></div>
        </div>
    </div>
    <input id="dataFile" type="hidden" value="{{ object.datafile.url }}" readonly>
    <input id="metadataFile" type="hidden" value="{{ object.metadatafile.url }}" readonly>
    <script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.11/require.min.js" data-main="{% static 'scripts/main.js' %}"></script>
{% endblock %}